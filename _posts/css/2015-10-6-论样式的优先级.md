---
layout: post
category: "css"
---

一个元素的样式可能来源不同的样式表，不同的选择器，而最终的样式遵循什么样的原则呢？如下。

# 论样式的优先级


## 样式来自哪里？

- 浏览器默认样式
- 继承的样式
- @import规则
- \<link\>引用样式，\<style\>内部样式。
- \<div style=""\>属性样式
- !important后缀的样式

## 浏览器处理样式表的方式

浏览器会**顺序读取来自上面列表中的样式**，如果遇到同一个元素的同一个属性，**后面的样式覆盖前面的样式。也就是说后面的优先级要高。**

## 普遍到一般

谈谈选择器。在link标签中和style标签中，通过选择器比较样式的优先级，优先级相同则在**html文档中出现的位置越靠后越优先**。

像下面style标签相对于link在文档的后面，所以按照style中的样式渲染。

    <link rel="stylesheet" href="haha.css"/>
    <style type="text/css">
        .haha{
            color: blue;
        }
    </style>
    <p class="haha">我是什么颜色</p>
    
如果像下面这样就是link中的样式优先了。

    <style type="text/css">
        .haha{
            color: blue;
        }
    </style>
    <link rel="stylesheet" href="haha.css"/>
    <p class="haha">我是什么颜色</p>

从选择器的角度来讲，**如果选择器选择的元素越普遍，那这个选择器优先级越低**，这是总体原则。比如div比.redDiv普遍，那么div优先级就低一些。

一般的规则越少越普遍，标签选择器比类选择器比id选择器普遍，选择器类型优先于规则数。如果上一句不懂，先看看**ICE原则。**

是一个优先度积分原则，对选择器上面的id，class，element（标签选择器）数量计数，每个**id积100分**，每个**class积10分**，每个**element积1分**，另外伪类积1分，**无视选择器方式，无视子类还是兄弟选择器这些**。

### 例1：

	div#thisdiv{
		color:red;
	}
	\#thisdiv{
		color:blue;
	}

第一个选择器101分，第二个100分，所以thisdiv里面文字为红色。

### 例2：

	a:link{
		color:red;
	}
	a{
		color:blue;
	}
	
第一个选择器2分（element+伪类），第二个选择器1分，所以是red。

### 例3：

关于a标签的四个伪类，link，visited，hover，active。一般书写顺序如上，效果才能完全展现，记忆法一般为**l**o**v**e **h****a**te。细细去想其中原因，实际上也是覆盖的原则。

假如把hover和active反过来写，像这样。

	a:active{
		color:red;
	}
	a:hover{
		color:blue;
	}

那么当这个a标签active的时候，实际上也是hover的状态，所以两个选择器都激活，按照覆盖的原则，遵循后面的样式，所以active的效果就不见了。



